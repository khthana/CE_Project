package TERMINAL;
import  java.awt.*;
//import  java.net.*;
//import  java.io.*;
public class Display extends Thread implements DATA_TERMINAL
{
	public  boolean DEBUG = false;                                       //used for debugging
	public	static	SshIO _SshIO;
	public  static  Canvas canvas;										   // area for drawing 					
	public  static  Dimension size;                                         //size of Canvas
	public  static  int   WINDOWS_WIDTH;                             // used for hold area of width Canvas 
	public  static  int   WINDOWS_HEIGHT;                           // used for hold area of height Canvas 
	public  static  Image TempScreen;                                   //  It's duplicate 0f Cavas for is buffer  
	public  static  char  CharArray[][];                                    //  hold character for reference
	public  static  Color CharForeGroundArray[][];                   
	public  static  Color CharBackGroundArray[][];
	public  static  Font  NormalFont;                                     
	public  static  FontMetrics Fm;
	public  static  int   CharWidth;                                          //hold width of FontMetrics 
	public  static  int   CharHeight;                                         //hold height of FontMetrics
	public  static  int   ScrollTop;											//scroll top of scrollbar
	public  static  int   ScrollBottom;                                       //scroll lower of scrollbar
	public  static  int   CharDescent;										//hold descent of FontMetrics
	public  static  Graphics TempGraphics;                             //keep the object Graphics for drawing
	public  static Graphics SimulateCanvas;
	public  static Graphics g;
	public  static int   Char_Canvas_Width;                            //number collume  of canvas (Example -> char_canvas_width = width_frame/charwidth) 
	public  static int   Char_Canvas_Height;                          //number line of  canvas 
	public  static  Color ForeGround;									 //keep color of forground	
	public  static  Color BackGround;                                   //keep color of background
	public  static  int   CurrentBackGround = 7;
	public  static  int   CurrentForeGround = 0;
	public  static  int   Line;
	public  static  int   Column;
	public  static  int   WindowsBase;                                  
	public  static  int   State;                             
	public  static  Color color[] = new Color[MaxColor];
	public static int count = 0;
	public static boolean STOP = false;                               //parameter for stop thread
	public static boolean setfont = false;
                       
                                                    // Example create fonts thai  character '¡'
													// 0   0   0   0   0   0   0   0 ---> 0x00 
												    // 0   0   0   0   0   0   0   0 ---> 	0x00
													// 0   0   0   0   0   0   0   0 --->	0x00
													// 0   0   0   0   0   0   0   0 ---> 0x00
													// 0   1   1   1   1   1   0   0 ---> 0x7c
													// 0   1   1   0   0   1   1   0 ---> 0x66
													// 0   0   1   0   0   1   1   0 ---> 0x26
													// 0   1   1   0   0   1   1   0 ---> 0x66
													// 0   1   1   0   0   1   1   0 ---> 0x66
													// 0   1   1   0   0   1   1   0 ---> 0x66
													// 0   1   1   0   0   1   1   0 ---> 0x66
													// 0   0   0   0   0   0   0   0 ---> 0x00
												    // 0   0   0   0   0   0   0   0 --->	0x00
													// 0   0   0   0   0   0   0   0 --->	0x00
													// 0   0   0   0   0   0   0   0 ---> 0x00
												   //[index of char][low1][low2][low3][low4][low5][low6][low7][low8]                             

	public static char[][] FONT_THAI = { 
                                                    {0xa1,0x00,0x00,0x00,0x00,0x00,0x00,0x7c,0x66,0x26,0x66,0x66,0x66,0x66,0x00,0x00}, //'¡'
                                                    {0xa2,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x36,0x36,0x36,0x36,0x36,0x3c,0x00,0x00},//'¢' 
												    {0xa3,0x00,0x00,0x00,0x00,0x00,0x00,0x56,0x76,0x36,0x36,0x36,0x36,0x3c,0x00,0x00},//'£'
												    {0xa4,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x76,0x66,0x76,0x76,0x00,0x00},//'¤'
												    {0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x7e,0x66,0x76,0x66,0x66,0x66,0x00,0x00},//'¥'
												    {0xa6,0x00,0x00,0x00,0x00,0x00,0x00,0x53,0x73,0x33,0x33,0x33,0x3b,0x36,0x00,0x00},//'¦'
												    {0xa7,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x06,0x66,0x26,0x36,0x16,0x1e,0x00,0x00},//'§'
												    {0xa8,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x1e,0x06,0x06,0x06,0x00,0x00},
												    {0xa9,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x76,0x36,0x3e,0x36,0x00,0x00},
													{0xaa,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x36,0x3c,0x36,0x36,0x36,0x3c,0x00,0x00},						
													{0xab,0x00,0x00,0x00,0x00,0x00,0x00,0x56,0x76,0x3c,0x36,0x36,0x36,0x3c,0x00,0x00},
													{0xac,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf3,0xdb,0x5b,0xdb,0xdb,0xff,0xdb},
													{0xad,0x00,0x00,0x00,0x00,0x00,0x00,0xf3,0xdb,0x5b,0xdb,0xdb,0xdb,0xdf,0x1b,0x1c},
													{0xae,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x33,0x13,0x33,0x33,0x33,0x73,0x03,0x3f},
													{0xaf,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x33,0x13,0x33,0x33,0x33,0x73,0x0b,0x37},
													{0xb0,0x00,0x00,0x00,0x00,0x00,0x06,0x3e,0x66,0x06,0x1e,0x06,0x06,0x06,0x00,0x7e},
													{0xb1,0x00,0x00,0x00,0x00,0x00,0x00,0x5e,0x7b,0x33,0x33,0x33,0x33,0x33,0x00,0x00},
													{0xb2,0x00,0x00,0x00,0x00,0x00,0x00,0xdb,0xfb,0xdb,0xdb,0xdb,0xdf,0x5b,0x00,0x00},
													{0xb3,0x00,0x00,0x00,0x00,0x00,0x00,0xf3,0xdb,0x5b,0xdb,0xdf,0xdf,0x5b,0x00,0x00},
													{0xb4,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x7e,0x6e,0x76,0x26,0x00,0x00},
													{0xb5,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x7e,0x66,0x7e,0x6e,0x76,0x26,0x00,0x00},
													{0xb6,0x00,0x00,0x00,0x00,0x00,0x00,0x7c,0x66,0x26,0x66,0x66,0x66,0x76,0x00,0x00},
													{0xb7,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x3b,0x33,0x33,0x33,0x33,0x33,0x00,0x00},
													{0xb8,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x60,0x7e,0x06,0x46,0x46,0x7c,0x00,0x00},
													{0xb9,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x33,0x33,0x33,0x33,0x37,0x1b,0x00,0x00},
													{0xba,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x33,0x33,0x33,0x33,0x33,0x3e,0x00,0x00},
													{0xbb,0x00,0x00,0x00,0x03,0x03,0x03,0x73,0x33,0x33,0x33,0x33,0x33,0x3f,0x00,0x00},
													{0xbc,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x63,0x63,0x6b,0x6b,0x6b,0x7e,0x00,0x00},
													{0xbd,0x00,0x00,0x00,0x03,0x03,0x03,0x33,0x63,0x63,0x6b,0x6b,0x6b,0x7e,0x00,0x00},
													{0xbe,0x00,0x00,0x00,0x00,0x00,0x00,0xe3,0x63,0x63,0x6b,0x6b,0x6b,0x7e,0x00,0x00},
													{0xbf,0x00,0x00,0x00,0x03,0x03,0x03,0xe3,0x63,0x63,0x6b,0x6b,0x6b,0x7e,0x00,0x00},
													{0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x33,0x13,0x33,0x33,0x33,0x73,0x00,0x00},
													{0xc1,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x33,0x33,0x33,0x33,0x3b,0x36,0x00,0x00},
													{0xc2,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x66,0x76,0x36,0x66,0x66,0x76,0x00,0x00},
													{0xc3,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x60,0x7c,0x06,0x06,0x3c,0x00,0x00},
													{0xc4,0x00,0x00,0x00,0x00,0x00,0x00,0x7c,0x66,0x26,0x66,0x66,0x66,0x76,0x06,0x06},
													{0xc5,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x3e,0x66,0x66,0x76,0x00,0x00},
													{0xc6,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x33,0x13,0x33,0x33,0x33,0x73,0x03,0x03},
													{0xc7,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x06,0x06,0x06,0x1c,0x00,0x00},
													{0xc8,0x00,0x00,0x00,0x00,0x00,0x06,0x3e,0x66,0x66,0x76,0x66,0x66,0x66,0x00,0x00},
													{0xc9,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x36,0x36,0x3f,0x36,0x36,0x3c,0x00,0x00},
													{0xca,0x00,0x00,0x00,0x00,0x00,0x06,0x3e,0x66,0x06,0x3e,0x66,0x66,0x76,0x00,0x00},
													{0xcb,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0x37,0x3b,0x33,0x33,0x33,0x33,0x00,0x00},
													{0xcc,0x00,0x00,0x00,0x00,0x00,0x03,0xef,0x63,0x63,0x6b,0x6b,0x6b,0x7f,0x00,0x00},
													{0xcd,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x76,0x66,0x66,0x7c,0x00,0x00},
													{0xce,0x00,0x00,0x00,0x00,0x00,0x06,0x3e,0x66,0x06,0x76,0x66,0x66,0x7c,0x00,0x00},
													{0xcf,0x00,0x00,0x00,0x00,0x00,0x00,0x6e,0x7e,0x06,0x06,0x06,0x06,0x06,0x00,0x00},
													{0xd0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x62,0x7c,0x00,0x62,0x7c,0x00,0x00,0x00},
													{0xd1,0x00,0x00,0x00,0x00,0x33,0x3e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xd2,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x06,0x06,0x06,0x06,0x06,0x00,0x00},
													{0xd3,0x00,0x00,0x00,0x00,0xc0,0xc0,0x3c,0x66,0x06,0x06,0x06,0x06,0x00,0x00,0x00},
													{0xd4,0x00,0x00,0x00,0x00,0x3c,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xd5,0x00,0x00,0x00,0x00,0x36,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xd6,0x00,0x00,0x00,0x06,0x3a,0x7c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xd7,0x00,0x00,0x00,0x0a,0x3a,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xd8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1c,0x0c,0x0c},
													{0xd9,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x16,0x1e},
													{0xda,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00},
													{0xdc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7e,0x40},
													{0xdf,0x00,0x00,0x00,0x48,0x7c,0x66,0x66,0x66,0x7c,0x66,0x66,0x66,0x7c,0x18,0x00},
													{0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x18,0x18,0x18,0x1c,0x00,0x00},
													{0xe1,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x66,0x66,0x66,0x66,0x66,0x77,0x00,0x00},
													{0xe2,0x00,0x00,0x3e,0x60,0x78,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1c,0x00,0x00},
													{0xe3,0x00,0x00,0x38,0x6c,0x6c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0e,0x00,0x00},
													{0xe4,0x00,0x00,0x6c,0x6c,0x3c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0e,0x00,0x00},
													{0xe5,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x66,0x66,0x66},
													{0xe6,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x7e,0x66,0x76,0x06,0x06,0x06,0x06,0x06},
													{0xe7,0x00,0x00,0x06,0x3c,0x62,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xe8,0x00,0x00,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xe9,0x00,0x00,0x0c,0xec,0x6c,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xea,0x00,0x00,0x01,0x6d,0x7e,0x6e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xeb,0x00,0x00,0x18,0x3c,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xec,0x00,0x00,0x0c,0x18,0x30,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xed,0x00,0x00,0x00,0x38,0x6c,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
													{0xef,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x42,0x5a,0x5a,0x42,0x3c,0x00,0x00},
													{0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x66,0x66,0x3c,0x00,0x00},
													{0xf1,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x76,0x36,0x0c,0x00,0x00},
													{0xf2,0x00,0x00,0x00,0x00,0xc0,0x60,0x60,0x7b,0x7f,0x7b,0x6b,0x63,0x7f,0x00,0x00},
													{0xf3,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x7e,0x66,0x66,0x76,0x36,0x00,0x00},
													{0xf4,0x00,0x00,0x00,0x00,0x00,0x06,0x06,0x3c,0x60,0x6e,0x6c,0x6c,0x7e,0x00,0x00},
													{0xf5,0x00,0x00,0x00,0x00,0x00,0x03,0x1b,0x3e,0x60,0x6e,0x6c,0x6c,0x7e,0x00,0x00},
													{0xf6,0x00,0x00,0x00,0x00,0xc0,0x60,0x60,0x7c,0x46,0x06,0x76,0x66,0x7c,0x00,0x00},
													{0xf7,0x00,0x00,0x00,0x00,0x02,0x03,0x03,0x2b,0x7f,0x67,0x67,0x67,0x76,0x00,0x00},
													{0xf8,0x00,0x00,0x00,0x00,0x03,0x03,0x03,0x3e,0x60,0x60,0x63,0x7b,0x6e,0x00,0x00},
													{0xf9,0x00,0x00,0x00,0x00,0x03,0x03,0x03,0x3e,0x78,0x6c,0x66,0x7b,0x39,0x00,0x00},
													{0xfa,0x00,0x00,0x00,0x00,0x00,0x5b,0x7b,0x1b,0x1b,0x1b,0x1b,0x1b,0x1b,0x00,0x00},
													{0xfb,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x68,0x4f,0x74,0x30,0x00,0x00,0x00}
												 };


	//@ It's method used Initial Screen
	public void Start(Canvas c)
	{
		canvas = c;
		System.out.println("Load OK");
		InitialDisplay("Courier",12);
	}//constructor display() 
 
	public void Start(Canvas c,String fontsize)
	{
		canvas = c;
		InitialDisplay(fontsize,12);
	}//constructor display() 

	public void Start(Canvas c,String fontname,int fontsize)
	{
		canvas = c;
		InitialDisplay(fontname,fontsize);
	}//constructor display() 

	public void InitialDisplay(String fontname,int fontsize)
	{
		if(DEBUG)System.out.println("Char display "+fontsize+" and "+fontname);
		ForeGround = Color.white;
		BackGround = Color.black;
		g = canvas.getGraphics();
		size = canvas.size();
		canvas.setBackground(BackGround);
		NormalFont = new Font(fontname,Font.PLAIN,fontsize);  //set font 
		TempGraphics = canvas.getGraphics();                        //get graphics for drawing
		if(NormalFont != null)
		TempGraphics.setFont(NormalFont);
		Fm         = TempGraphics.getFontMetrics(NormalFont);
		CharWidth  = Fm.getMaxAdvance();                                 //get  font metrics of width 
		CharHeight = Fm.getHeight();                                         // get font metrics of height
		CharDescent= Fm.getDescent();                                      //get descent metrics
		WINDOWS_WIDTH  = size.width;
		WINDOWS_HEIGHT = size.height;
		Char_Canvas_Width = WINDOWS_WIDTH/CharWidth;
		Char_Canvas_Height= WINDOWS_HEIGHT/CharHeight;

		if(DEBUG)
		{
			System.out.println("Size "+size.width+"|"+size.height+"|");
			System.out.println("Font "+CharWidth+"|"+CharHeight+"|"+CharDescent);
			System.out.println("Size/Font "+Char_Canvas_Width+"|"+Char_Canvas_Height);
		}
		TempScreen = canvas.createImage(WINDOWS_WIDTH,WINDOWS_HEIGHT);   //create Image of canvas for used is Buffer
		SimulateCanvas = TempScreen.getGraphics();
		SimulateCanvas.setFont(NormalFont);
		CharArray  = new char[Char_Canvas_Height][Char_Canvas_Width];
		CharForeGroundArray = new Color[Char_Canvas_Height][Char_Canvas_Width];  
		CharBackGroundArray = new Color[Char_Canvas_Height][Char_Canvas_Width];  
		color[0] = Color.black;
		color[1] = Color.red;
		color[2] = Color.green;
		color[3] = Color.yellow;
		color[4] = Color.blue;
		color[5] = Color.magenta;
		color[6] = Color.cyan;
		color[7] = Color.lightGray;
		for (int i = ColorBrighter;i<MaxColor;i++)
		color[i] = color[i-ColorBrighter].brighter();
		color[MaxColor-1] = Color.white;
		CurrentBackGround = 7;	
		CurrentForeGround = 0;
		Line   = 0;
		Column = 0;
		ScrollTop = 0;
		ScrollBottom = Char_Canvas_Height-1;
		WindowsBase   = 0;
		ClearAll();
	}//method void InitialDisplay() [initial argument]
 
	//************************************************************
	//                     Part of Display Screen
	//************************************************************
	//@ role: clear screen 
	// parameter: start line,destination line,start colume,destination column 
	public void ClearCoordinateScreen(int line1,int column1,int line2,int column2)
	{
 		SetGraphicsColor(BackGround);
		int X,Y,width,height;
		if(line1 == line2)
		{
	   		X				= column1*CharWidth;
			Y				= line1*CharHeight;
			width		= (column2-column1+1)*CharWidth;
			height	=	CharHeight;
			FillRectangle(X,Y,width,height);
			return;
		}//if(line1 == line2)
		X				= column1*CharWidth;
		Y				= line1*CharHeight;
		width		= (Char_Canvas_Width - column1)*CharWidth;    
		height	= CharHeight;
		FillRectangle(X,Y,width,height);
		if((line2 - line1) > 1)
		{
	 		for(int i = line1+1; i <line2;i++)
			{
				X				= 0;
				Y				= i*CharHeight;
				width		= CharWidth*Char_Canvas_Width;
				height	= CharHeight;
				FillRectangle(X,Y,width,height);
			}//for(i = line1+1; i <line2;i++)
		}//if(line2- line1 > 1)
		X      = 0;
		Y      = line2*CharHeight;
		width  = (column2+1)*CharWidth;
		height = CharHeight;
		FillRectangle(X,Y,width,height);
	}//method ClearCoordinateScreen()

	//@ role: Scroll display down one line
	//parameter: scroll top and scroll down
	public void ScrollDown(int ScrollTop,int ScrollBottom)
	{
		int X,Y,width,height,distance_width,distance_height;
		X				= 0;
		Y				= ScrollTop*CharHeight;
		width		= Char_Canvas_Width*CharWidth;
		height	= (ScrollBottom - ScrollTop)*CharHeight;
		distance_width = 0;
		distance_height= CharHeight;
		CopyArea(X,Y,width,height,distance_width,distance_height);
		SetGraphicsColor(BackGround);
		X = 0;
		Y = ScrollTop*CharHeight;
		width = Char_Canvas_Width*CharWidth;
		height= CharHeight; 
		FillRectangle(X,Y,width,height);
	 }//method void ScrollDown(int,int)

	//@ role: Scroll display up one line
	//parameter: scroll top and scroll down
	public void ScrollUp(int ScrollTop,int ScrollBottom)
	{
  		int X,Y,width,height,distance_width,distance_height;
		X				= 0;
		Y				= (ScrollTop+1)*CharHeight;
		width		= Char_Canvas_Width*CharWidth;
		height	= (ScrollBottom - ScrollTop)*CharHeight;
		distance_width = 0;
		distance_height= - CharHeight;
		CopyArea(X,Y,width,height,distance_width,distance_height);
		SetGraphicsColor(BackGround);
		X = 0;
		Y = ScrollBottom*CharHeight;
		width = Char_Canvas_Width*CharWidth;
		height= CharHeight; 
		FillRectangle(X,Y,width,height);
	}//mathod void ScrollUp(int,int)

	//@ role: set graphics from canvas
	//parameter: color will as set 
	public void SetGraphicsColor(Color color)
	{
		SimulateCanvas.setColor(color);
	}//method void setColor(Color)
	 
	//@ role:draw image on buffer 
	// parameter: start point x and y 
	//                 width ,height
	public void FillRectangle(int x,int y,int width,int height)
	{
  		SimulateCanvas.fillRect(x,y,width,height);
	}//method void fillRectangle()

	//@ role: copy any area go on area other
	// parameter: start point x/y and width/height 
	public void CopyArea(int x,int y,int width,int height,int distence_width,int distence_height)
	{
  		SimulateCanvas.copyArea(x,y,width,height,distence_width,distence_height);
	}//method void CopyArea(int,int,int,int,int,int)

	//@ role: draw string on buffer
	//parameter: String ,point x/y
	public void DrawString(String string,int x_baseline,int y_baseline)
	{
  		SimulateCanvas.drawString(string,x_baseline,y_baseline);
	}//method void DrawString(String,int,int)

	//@ role: clear all buffer for prepare drawing
	// parameter: none
	public void ClearScreenAll()
	{
  		SetGraphicsColor(BackGround);
		FillRectangle(0,0,WINDOWS_WIDTH,WINDOWS_HEIGHT);
	}//method void clearScreen()

	//@ role: drawing char on screen buffer
	//parameter: one character
	public void DisplayCharOnScreen(char Char)
	{
		SetGraphicsColor(BackGround);
		FillRectangle(Column*CharWidth,Line*CharHeight,CharWidth,CharHeight);
		SetGraphicsColor(ForeGround);
		if(Char >= 0 && Char < 161) {DrawString(String.valueOf(Char),Column*CharWidth,(Line+1)*CharHeight - CharDescent); return;}
		if(setfont == false){MapfontThai(Char);}
			else {DrawString(String.valueOf(Char),Column*CharWidth,(Line+1)*CharHeight - CharDescent); return;}
	}//method void DisplayChar(char)

	//@ role: check bound of line and colume 
	//parameter: variable is compare,lower,upper
	public int CheckBound(int variable,int lower,int upper)
	{
		if(variable < lower)	return lower;
		if(variable > upper)	return upper;
		return variable;
	}//method int checkbound()

	//************************************************************
	//             Part of Display Simulate Terminal is Buffer
	//************************************************************
	//@ role: put char in array buffer
	//parameter: one char ,line,column
	public void PutChar(int line,int column,char Char)
	{
		Line   = CheckBound(line,0,(Char_Canvas_Height-1));
		Column =	CheckBound(column,0,(Char_Canvas_Width-1));
		CharArray[WindowsBase + Line][Column] = Char;
		CharForeGroundArray[WindowsBase+Line][Column] = ForeGround;
		CharBackGroundArray[WindowsBase+Line][Column] = BackGround;
	}//method void putChar()

	//@ role: clear all array buffer
	//parameter: none
	public void ClearArrayBufferAll()
	{
  		for(int i = 0; i < Char_Canvas_Height; i++)
			for(int j = 0; j < Char_Canvas_Width; j++)
			{
	 			CharArray[i][j] = ' ';
				CharForeGroundArray[i][j]= ForeGround;
				CharBackGroundArray[i][j]= BackGround;
			}
	}//method void clearArray()

	//@ role: clear array from choice point 
	// parameter: start line,destination line,start colume,destination column 
	public void ClearCoordinateBuffer(int line1,int column1,int line2,int column2)
	{
		if(line1 == line2)
		{
			for(int i= column1;i<= column2;i++)
			{
	  			CharArray[line1][i] = ' ';
				CharForeGroundArray[line1][i]= ForeGround;
				CharBackGroundArray[line1][i]= BackGround;
			}//for(i=column1;i<=column2;i++)
			return;
		}//if(line1 == line2)
		for(int i= column1;i < Char_Canvas_Width;i++)
		{
			CharArray[line1][i] = ' ';
			CharForeGroundArray[line1][i]= ForeGround;
			CharBackGroundArray[line1][i]= BackGround;
		}//for(i = column1;i<char_canvas_width;i++)
		for(int i= line1+1;i < line2;i++)
		{
			for(int j= 0; j < Char_Canvas_Width - 1;j++)
			{  
				CharArray[i][j] = ' ';
				CharForeGroundArray[i][j]= ForeGround;
				CharBackGroundArray[i][j]= BackGround;
			}//for(j = 0;i<char_canvas_width;i++)
		}//for(i = column1;i<char_canvas_width;i++)
		for(int i= 0;i < column2;i++)
		{
			CharArray[line2][i] = ' ';
			CharForeGroundArray[line2][i]= ForeGround;
			CharBackGroundArray[line2][i]= BackGround;
		}//for(i = column1;i<char_canvas_width;i++)
	}//method ClearCoordinateBuffer()

  
	//************************************************************
	//             Part of Display is Show
	//************************************************************
	public void ClearAll()
	{
  		Line   = 0;
		Column = 0;
		ClearScreenAll();
		ClearArrayBufferAll();
	}//method ClearAll()

	public void ClearCoordinateAll(int line1,int column1,int line2,int column2)
	{
  		ClearCoordinateScreen(line1,column1,line2,column2);
		ClearCoordinateBuffer(line1,column1,line2,column2);
	}//method ClearCoordinateAll()

	//@ role: slide down one line
	//parameter: top scroll,bottom scroll
	public void LineFeed(int top,int bottom)	  //same ScrollUp()
	{
  		for(int i = 0;i < Char_Canvas_Width;i++)
		{
	   		CharArray[bottom][i]  = ' ';
			CharForeGroundArray[bottom][i] = ForeGround;
			CharBackGroundArray[bottom][i] = BackGround;
		}//for()
		ScrollUp(top,bottom);
	}//method void LineFeed(int,int)
  
	//@ role: control drawing buffer on screen
	//parameter: none
	public void run()
	{
		try
		{
			while(!STOP)
			{
				sleep(900);
				Paint();
			}
		}
		catch(Exception e){}
	}

	//@ role: draw buffer on screen
	//parameter: none
	public void Paint()
	{
  		g.drawImage(TempScreen,0,0,null);
	}//

	//@ role: check status of escap character
	//parameter: one character
	public int CheckCodeFirstFormString(char Char)
	{
		int S;
  		if(Char == ESC)	{S = STATUS_ESC;}
		else if(Char == BACKET)	{S = STATUS_CSI;}
		else S = STATUS_DATA;
		return S;
	}//method CheckCode()

	//@ role: maping ascii code to font thai
	//parameter: one acsii code 
	public static void MapfontThai(char Cx)
	{
		int LOW = 0;
		boolean SearchIndex = false;
		while(!SearchIndex && (LOW < 87))
		{
			if ((Cx & 0xff) == FONT_THAI[LOW][0])	{ SearchIndex = true;}
 			else ++LOW; 
		}
		//SetGraphicsColor(ForeGround);
		for(int j=1;j<16;j++)
		{
			char c = FONT_THAI[LOW][j];
			if(c != 0)
			{    //[0][1][2][3][4][5][6][7]
				int Idx =0;
				int Idy = 0;
				Idy = (Line*CharHeight - CharDescent)+j;
				for(int k=0;k<8;k++)
				{
					if (((c & 0x80)) >> 7 != 0)		{Idx = Column*CharWidth+0; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x40) >> 6) != 0)		{Idx = Column*CharWidth+1; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x20) >> 5) != 0)		{Idx = Column*CharWidth+2; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x10) >> 4) != 0)		{Idx = Column*CharWidth+3; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x08) >> 3) != 0)		{Idx = Column*CharWidth+4; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x04) >> 2) != 0)		{Idx = Column*CharWidth+5; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x02) >> 1) != 0)		{Idx = Column*CharWidth+6; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
					if (((c & 0x01)) != 0)				{Idx = Column*CharWidth+7; SimulateCanvas.fillRect(Idx,Idy,1,1);}; 
				}//for(k=0;k<8;k++)
			}//if(c != 0)
		}//for(j=0;j<8;j++)
	}

}//public class Display